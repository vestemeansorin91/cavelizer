"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[85],{1085:(w,p,r)=>{r.r(p),r.d(p,{UserProfileModule:()=>Y});var l=r(9808),e=r(5e3);let u=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-bank-details"]],decls:2,vars:0,template:function(o,s){1&o&&(e.TgZ(0,"p"),e._uU(1,"user-bank-details works!"),e.qZA())},styles:[""]}),t})(),f=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-clothes-sizes"]],decls:2,vars:0,template:function(o,s){1&o&&(e.TgZ(0,"p"),e._uU(1,"user-clothes-sizes works!"),e.qZA())},styles:[""]}),t})(),m=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-emergency-contact"]],decls:2,vars:0,template:function(o,s){1&o&&(e.TgZ(0,"p"),e._uU(1,"user-emergency-contact works!"),e.qZA())},styles:[""]}),t})(),d=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-hr-information"]],decls:2,vars:0,template:function(o,s){1&o&&(e.TgZ(0,"p"),e._uU(1,"user-hr-information works!"),e.qZA())},styles:[""]}),t})(),h=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-payroll-information"]],decls:2,vars:0,template:function(o,s){1&o&&(e.TgZ(0,"p"),e._uU(1,"user-payroll-information works!"),e.qZA())},styles:[""]}),t})(),U=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-personal-data"]],decls:2,vars:0,template:function(o,s){1&o&&(e.TgZ(0,"p"),e._uU(1,"user-personal-data works!"),e.qZA())},styles:[""]}),t})();var i=r(2382),T=r(2340),A=r(520);const g=T.N.apiUrl+"/users";let v=(()=>{class t{constructor(o){this.http=o,this.profile=null,this.userId=""}getUserByIdWithProfile(o){return this.userId=o,this.http.get(`${g}/${o}/getUserByIdWithProfile`)}saveUserPublicProfile(o){return this.http.patch(`${g}/${this.userId}/updatePublicProfile`,o)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(A.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var b=r(2496),S=r(42);let Z=(()=>{class t{constructor(o,s,c){this.fb=o,this.profileService=s,this.notificationsService=c,this.buildFormGroup(),this.patchFormGroup()}onSavePublicProfile(){this.profileService.saveUserPublicProfile(this.userPublicProfileFormGroup.value).subscribe(()=>{this.notificationsService.success("Success","User profile saved!")})}buildFormGroup(){this.userPublicProfileFormGroup=this.fb.group({office:this.fb.control(""),department:this.fb.control(""),position:this.fb.control(""),team:this.fb.control(""),phone:this.fb.control("")})}patchFormGroup(){const{publicProfile:o}=this.profileService.profile;!o||this.userPublicProfileFormGroup.patchValue({office:o.office,department:o.department,position:o.position,team:o.team,phone:o.phone})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(i.qu),e.Y36(v),e.Y36(b.TF))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-profile"]],decls:46,vars:4,consts:[[1,"flex--column","align--center","gap--8","mt--32",3,"formGroup"],["for","office",1,"mr--16"],["id","office","type","number","formControlName","office"],["for","department",1,"mr--16"],["id","department","formControlName","department"],["value","development"],["value","qa"],["for","position",1,"mr--16"],["id","position","formControlName","position"],["value","junior"],["value","medior"],["value","senior"],["for","team",1,"mr--16"],["name","","id","team","formControlName","team"],["value","frontend"],["value","backend"],["value","tester"],["value","project manager"],["for","phone",1,"mr--16"],["id","phone","type","text","formControlName","phone"],[3,"click"]],template:function(o,s){1&o&&(e.TgZ(0,"form",0)(1,"div")(2,"label",1),e._uU(3,"Office"),e.qZA(),e._UZ(4,"input",2),e.qZA(),e.TgZ(5,"div")(6,"label",3),e._uU(7,"Department"),e.qZA(),e.TgZ(8,"select",4)(9,"option",5),e._uU(10,"Development"),e.qZA(),e.TgZ(11,"option",6),e._uU(12,"QA"),e.qZA()()(),e.TgZ(13,"div")(14,"label",7),e._uU(15,"Position"),e.qZA(),e.TgZ(16,"select",8)(17,"option",9),e._uU(18,"Junior"),e.qZA(),e.TgZ(19,"option",10),e._uU(20,"Medior"),e.qZA(),e.TgZ(21,"option",11),e._uU(22,"Senior"),e.qZA()()(),e.TgZ(23,"div")(24,"label",12),e._uU(25,"Team"),e.qZA(),e.TgZ(26,"select",13)(27,"option",14),e._uU(28,"Frontend"),e.qZA(),e.TgZ(29,"option",15),e._uU(30,"Backend"),e.qZA(),e.TgZ(31,"option",16),e._uU(32,"Tester"),e.qZA(),e.TgZ(33,"option",6),e._uU(34,"QA"),e.qZA(),e.TgZ(35,"option",17),e._uU(36,"Project manager"),e.qZA()()(),e.TgZ(37,"div")(38,"label",18),e._uU(39,"Phone"),e.qZA(),e._UZ(40,"input",19),e.qZA(),e.TgZ(41,"cavelizer-button",20),e.NdJ("click",function(){return s.onSavePublicProfile()}),e._uU(42,"Save"),e.qZA(),e.TgZ(43,"pre"),e._uU(44),e.ALo(45,"json"),e.qZA()()),2&o&&(e.Q6J("formGroup",s.userPublicProfileFormGroup),e.xp6(44),e.Oqu(e.lcZ(45,2,s.userPublicProfileFormGroup.value)))},directives:[i._Y,i.JL,i.sg,i.wV,i.Fj,i.JJ,i.u,i.EJ,i.YN,i.Kr,S.r],pipes:[l.Ts],encapsulation:2}),t})(),P=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-start-end-dates"]],decls:2,vars:0,template:function(o,s){1&o&&(e.TgZ(0,"p"),e._uU(1,"user-start-end-dates works!"),e.qZA())},styles:[""]}),t})();var a=r(3477),I=r(665),x=r(5620),k=r(7902),F=r(1299),C=r(3251),q=r(5728);function D(t,n){if(1&t&&(e.TgZ(0,"div",3)(1,"div",4),e._UZ(2,"img",5),e.ALo(3,"defaultImage"),e.TgZ(4,"h1"),e._uU(5),e.qZA()()()),2&t){const o=n.ngIf;e.xp6(2),e.Q6J("src",e.lcZ(3,2,null==o?null:o.avatarBlobUrl),e.LSH),e.xp6(3),e.Oqu(null==o?null:o.fullName)}}const O=function(){return["/user","profile"]},M=function(){return["/user","personal-data"]},_=function(){return["/user","hr-information"]},J=function(){return["/user","payroll-information"]},L=function(){return["/user","start-end-dates"]},z=function(){return["/user","clothes-sizes"]},B=function(){return["/user","bank-details"]},N=function(){return["/user","emergency-contact"]};function Q(t,n){1&t&&(e.ynx(0),e.TgZ(1,"nav",6)(2,"span",7),e._uU(3,"Profile"),e.qZA(),e.TgZ(4,"span",7),e._uU(5,"Personal Data"),e.qZA(),e.TgZ(6,"span",7),e._uU(7,"HR Information"),e.qZA(),e.TgZ(8,"span",7),e._uU(9,"Payroll Information"),e.qZA(),e.TgZ(10,"span",7),e._uU(11,"Start End Dates"),e.qZA(),e.TgZ(12,"span",7),e._uU(13,"Clothes sizes"),e.qZA(),e.TgZ(14,"span",7),e._uU(15,"Bank details"),e.qZA(),e.TgZ(16,"span",7),e._uU(17,"Emergency contact"),e.qZA()(),e._UZ(18,"router-outlet"),e.BQk()),2&t&&(e.xp6(2),e.Q6J("routerLink",e.DdM(8,O)),e.xp6(2),e.Q6J("routerLink",e.DdM(9,M)),e.xp6(2),e.Q6J("routerLink",e.DdM(10,_)),e.xp6(2),e.Q6J("routerLink",e.DdM(11,J)),e.xp6(2),e.Q6J("routerLink",e.DdM(12,L)),e.xp6(2),e.Q6J("routerLink",e.DdM(13,z)),e.xp6(2),e.Q6J("routerLink",e.DdM(14,B)),e.xp6(2),e.Q6J("routerLink",e.DdM(15,N)))}const j=[{path:"",component:(()=>{class t{constructor(o,s,c){this.store=o,this.jwtTokenService=s,this.profileService=c,this.currentUser$=this.store.select(I.UH),this.userId=""}ngOnInit(){this.getUserProfile()}getUserProfile(){this.userId=this.jwtTokenService.getUser()._id,this.profileService.getUserByIdWithProfile(this.userId).subscribe(o=>this.profileService.profile=o)}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(x.yh),e.Y36(k.C),e.Y36(v))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-profile"]],decls:5,vars:4,consts:[[1,"shop-layout"],["class","profile",4,"ngIf"],[4,"ngIf"],[1,"profile"],[1,"profile-header"],[1,"profile-img",3,"src"],["mat-tab-nav-bar",""],["mat-tab-link","","routerLinkActive","active",3,"routerLink"]],template:function(o,s){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"cavelizer-breadcrumb"),e.YNc(2,D,6,4,"div",1),e.ALo(3,"async"),e.YNc(4,Q,19,16,"ng-container",2),e.qZA()),2&o&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,2,s.currentUser$)),e.xp6(2),e.Q6J("ngIf",s.profileService.profile))},directives:[F.L,l.O5,C.BU,C.Nj,a.Od,a.rH,a.lC],pipes:[l.Ov,q.S],styles:[".profile[_ngcontent-%COMP%]{display:flex;justify-content:center}.profile-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.profile-header[_ngcontent-%COMP%]   .profile-img[_ngcontent-%COMP%]{width:150px}.profile[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;font-size:38px}nav[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),t})(),data:{breadcrumb:"Profile",breadcrumbPath:"/user/profile"},children:[{path:"",pathMatch:"full",redirectTo:"profile"},{path:"profile",component:Z,data:{breadcrumb:"",breadcrumbPath:"/user/profile"}},{path:"hr-information",component:d},{path:"start-end-dates",component:P},{path:"personal-data",component:U},{path:"clothes-sizes",component:f},{path:"bank-details",component:u},{path:"emergency-contact",component:m},{path:"payroll-information",component:h},{path:"**",redirectTo:"profile"}]}];let E=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[a.Bz.forChild(j)],a.Bz]}),t})();var G=r(9225);let Y=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.ez,E,G.m]]}),t})()}}]);