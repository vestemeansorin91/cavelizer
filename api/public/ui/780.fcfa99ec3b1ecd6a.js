(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[780],{3780:(x,s,a)=>{"use strict";a.r(s),a.d(s,{ChatModule:()=>W});var f=a(9808),g=a(2382),h=a(1725),l=a(8052),t=a(5e3);let u=(()=>{class b{constructor(y){this.lockYOffset=10,this.observeAttributes="false",this._isLocked=!1,this.nativeElement=y.nativeElement}getObserveAttributes(){return""!==this.observeAttributes&&"false"!==this.observeAttributes.toLowerCase()}ngAfterContentInit(){this.mutationObserver=new MutationObserver(()=>{this._isLocked||this.scrollDown()}),this.mutationObserver.observe(this.nativeElement,{childList:!0,subtree:!0,attributes:this.getObserveAttributes()})}ngOnDestroy(){this.mutationObserver.disconnect()}forceScrollDown(){this.scrollDown()}isLocked(){return this._isLocked}scrollDown(){this.nativeElement.scrollTop=this.nativeElement.scrollHeight}scrollHandler(){this._isLocked=this.nativeElement.scrollHeight-this.nativeElement.scrollTop-this.nativeElement.clientHeight>this.lockYOffset}}return b.\u0275fac=function(y){return new(y||b)(t.Y36(t.SBq))},b.\u0275dir=t.lG2({type:b,selectors:[["","ngx-auto-scroll",""]],hostBindings:function(y,M){1&y&&t.NdJ("scroll",function(){return M.scrollHandler()})},inputs:{lockYOffset:["lock-y-offset","lockYOffset"],observeAttributes:["observe-attributes","observeAttributes"]}}),b})(),p=(()=>{class b{}return b.\u0275fac=function(y){return new(y||b)},b.\u0275mod=t.oAB({type:b}),b.\u0275inj=t.cJS({imports:[[]]}),b})();var n=a(4954),o=a(665),i=a(2340),r=a(520);const e=`${i.N.apiUrl}/chat`;let c=(()=>{class b{constructor(y){this.http=y}getUsersForChat(){return this.http.get(`${e}/getUsersForChat`)}getMessages(y,M){return this.http.get(`${e}/chatMessages/${y}/${M}/getMessages`)}markReceiverMessages(y,M){return this.http.get(`${e}/receiverMessages/${y}/${M}/markReceiverMessages`)}markAllMessages(){return this.http.get(`${e}/markAllMessages`)}sendMessage(y,M,L,z){return this.http.post(`${e}/chatMessages/${y}/${M}/sendMessage`,{receiverId:M,receiverName:L,message:z})}}return b.\u0275fac=function(y){return new(y||b)(t.LFG(r.eN))},b.\u0275prov=t.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();var d=a(5620),w=a(2775),v=a(7871),C=a(1393);function O(b,k){if(1&b&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"slice"),t.qZA()),2&b){const y=t.oxw(2);t.xp6(1),t.hij("",t.Dn7(2,1,y.contact.lastMessage,0,30)," ...")}}function U(b,k){if(1&b&&(t.TgZ(0,"div",10),t._uU(1),t.ALo(2,"date"),t.qZA()),2&b){const y=t.oxw(2);t.xp6(1),t.Oqu(t.xi3(2,1,y.contact.lastMessageTime,"h:mm a"))}}function m(b,k){if(1&b&&(t.TgZ(0,"div",1)(1,"div",2),t._UZ(2,"cvz-avatar",3),t.ALo(3,"defaultImage"),t._UZ(4,"span",4),t.qZA(),t.TgZ(5,"div",5)(6,"div",6),t._uU(7),t.qZA(),t.YNc(8,O,3,5,"div",7),t.qZA(),t.YNc(9,U,3,4,"div",8),t.qZA()),2&b){const y=t.oxw();t.xp6(2),t.Q6J("name",y.contact.fullName)("avatar",t.xi3(3,6,null==y.contact?null:y.contact.avatarBlobUrl,!0))("size",54),t.xp6(5),t.Oqu(y.contact.fullName),t.xp6(1),t.Q6J("ngIf",y.contact.lastMessage),t.xp6(1),t.Q6J("ngIf",y.contact.lastMessageTime)}}let F=(()=>{class b{constructor(){this.contact={}}}return b.\u0275fac=function(y){return new(y||b)},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-chat-contact-item"]],inputs:{contact:"contact"},decls:1,vars:1,consts:[["class","chat-contact-item",4,"ngIf"],[1,"chat-contact-item"],[1,"avatar"],[1,"circle","pointer",3,"name","avatar","size"],[1,"avatar-status","online"],[1,"info"],[1,"info-name"],["class","info-last-message",4,"ngIf"],["class","last-message-time",4,"ngIf"],[1,"info-last-message"],[1,"last-message-time"]],template:function(y,M){1&y&&t.YNc(0,m,10,9,"div",0),2&y&&t.Q6J("ngIf",M.contact)},directives:[f.O5,v.A],pipes:[C.S,f.OU,f.uU],styles:[".color--primary[_ngcontent-%COMP%]{color:#6a983c}.color--grey[_ngcontent-%COMP%]{color:#575757}.bg-light[_ngcontent-%COMP%]{background-color:#d1d1d1}.bg-white[_ngcontent-%COMP%]{background-color:#fff}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #ebebeb}.selected[_nghost-%COMP%]   .chat-contact-item[_ngcontent-%COMP%]{background-color:#eaf3ff}.selected[_nghost-%COMP%]   .chat-contact-item[_ngcontent-%COMP%]:hover{background-color:#deebfc}.chat-contact-item[_ngcontent-%COMP%]{position:relative;display:flex;background-color:#eff2f4;border-radius:16px;padding:18px;margin:0 24px;width:347px;max-width:347px;cursor:pointer;transition:background-color .3s ease-in-out}.chat-contact-item[_ngcontent-%COMP%]:hover{background-color:#eff2f4}.chat-contact-item[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{position:relative;width:54px;height:54px;margin-right:16px}.chat-contact-item[_ngcontent-%COMP%]   .avatar-image[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.chat-contact-item[_ngcontent-%COMP%]   .avatar-status[_ngcontent-%COMP%]{position:absolute;bottom:0px;right:8px;width:8px;height:8px;z-index:1;background-color:gray;border-radius:50%}.chat-contact-item[_ngcontent-%COMP%]   .avatar-status.online[_ngcontent-%COMP%]{background-color:green}.chat-contact-item[_ngcontent-%COMP%]   .avatar-status.offline[_ngcontent-%COMP%]{background-color:gray}.chat-contact-item[_ngcontent-%COMP%]   .avatar-status.away[_ngcontent-%COMP%]{background-color:orange}.chat-contact-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.chat-contact-item[_ngcontent-%COMP%]   .info-name[_ngcontent-%COMP%]{font-style:normal;font-weight:500;font-size:16px}.chat-contact-item[_ngcontent-%COMP%]   .info-last-message[_ngcontent-%COMP%]{color:#b2b3ba;font-style:normal;font-weight:400;font-size:14px}.chat-contact-item[_ngcontent-%COMP%]   .last-message-time[_ngcontent-%COMP%]{position:absolute;top:18px;right:18px;color:#b2b3ba;font-style:normal;font-weight:400;font-size:12px}.chat-contact-item[_ngcontent-%COMP%]   .unread-message--bullet[_ngcontent-%COMP%]{position:absolute;bottom:16px;right:16px;border-radius:8px;width:8px;height:8px;background-color:#377dff}"]}),b})();function A(b,k){if(1&b){const y=t.EpF();t.TgZ(0,"app-chat-contact-item",6),t.NdJ("click",function(){const z=t.CHM(y).index;return t.oxw().contactSelectionChange.emit(z)}),t.qZA()}if(2&b){const y=k.$implicit,M=k.index,L=t.oxw();t.ekj("selected",L.selectedContactIndex===M),t.Q6J("contact",y)}}let B=(()=>{class b{constructor(){this.contacts=[],this.selectedContactIndex=0,this.contactSelectionChange=new t.vpe}trackByFn(y,M){return M._id}}return b.\u0275fac=function(y){return new(y||b)},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-chat-contacts"]],inputs:{contacts:"contacts",selectedContactIndex:"selectedContactIndex"},outputs:{contactSelectionChange:"contactSelectionChange"},decls:7,vars:2,consts:[[1,"flex--column","pl--8"],[1,"justify--space-between","align--center","px--24","pt--32"],[1,"text--light"],["name","plus-circle"],[1,"contacts-scroll","flex--column","gap--12","mt--32","pt--8"],[3,"selected","contact","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"contact","click"]],template:function(y,M){1&y&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t._uU(3,"CONTACTS"),t.qZA(),t._UZ(4,"cvz-icon",3),t.qZA(),t.TgZ(5,"div",4),t.YNc(6,A,1,3,"app-chat-contact-item",5),t.qZA()()),2&y&&(t.xp6(6),t.Q6J("ngForOf",M.contacts)("ngForTrackBy",M.trackByFn))},directives:[w.o,f.sg,F],styles:[".contacts-scroll[_ngcontent-%COMP%]{overflow:overlay!important;height:calc(100vh - 300px)}"]}),b})();function T(b,k){1&b&&(t.TgZ(0,"span",11),t._uU(1,"Typing..."),t.qZA())}function S(b,k){if(1&b&&(t.TgZ(0,"div",6),t._UZ(1,"cvz-avatar",7),t.ALo(2,"defaultImage"),t.TgZ(3,"div",8)(4,"span",9),t._uU(5),t.qZA(),t.YNc(6,T,2,0,"span",10),t.qZA()()),2&b){const y=t.oxw();t.xp6(1),t.Q6J("name",y.contact.fullName)("avatar",t.xi3(2,5,y.contact.avatarBlobUrl,!0))("size",54),t.xp6(4),t.Oqu(y.contact.fullName),t.xp6(1),t.Q6J("ngIf",y.receiverIsTyping)}}let N=(()=>{class b{constructor(){this.contact={},this.receiverIsTyping=!1}}return b.\u0275fac=function(y){return new(y||b)},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-chat-top-bar"]],inputs:{contact:"contact",receiverIsTyping:"receiverIsTyping"},decls:6,vars:1,consts:[[1,"chat-top-bar","pt--20","pb--24","px--24","justify--space-between","align--center","width--full"],["class","flex",4,"ngIf"],[1,"flex","gap--40"],["name","mobile"],["name","video"],["name","more-vertical"],[1,"flex"],[1,"ml--32","mr--16","circle",3,"name","avatar","size"],[1,"flex--column"],[1,"fs--16","text--bold"],["class","color--grey text--light",4,"ngIf"],[1,"color--grey","text--light"]],template:function(y,M){1&y&&(t.TgZ(0,"div",0),t.YNc(1,S,7,8,"div",1),t.TgZ(2,"div",2),t._UZ(3,"cvz-icon",3)(4,"cvz-icon",4)(5,"cvz-icon",5),t.qZA()()),2&y&&(t.xp6(1),t.Q6J("ngIf",M.contact))},directives:[f.O5,v.A,w.o],pipes:[C.S],styles:[".chat-top-bar[_ngcontent-%COMP%]{border-bottom:1px solid #efefef}"]}),b})();var E=a(7489),P=a(685),I=a.n(P),R=a(6575);function D(b,k){if(1&b&&(t.TgZ(0,"div",4)(1,"div",5),t._uU(2),t.qZA(),t._UZ(3,"cvz-avatar",6),t.ALo(4,"defaultImage"),t.qZA()),2&b){const y=k.$implicit,M=t.oxw(2);t.ekj("message-left-wrapper",M.user.username!==y.senderName)("message-right-wrapper",M.user.username===y.senderName),t.xp6(2),t.Oqu(y.body),t.xp6(1),t.Q6J("name",M.currentUser.fullName)("avatar",t.xi3(4,8,M.user.username===y.senderName?M.currentUser.avatarBlobUrl:M.receiver.avatarBlobUrl,!0))("size",54)}}function H(b,k){if(1&b&&(t.ynx(0),t.YNc(1,D,5,11,"div",3),t.BQk()),2&b){const y=t.oxw();t.xp6(1),t.Q6J("ngForOf",y.messages)}}function Z(b,k){1&b&&(t.TgZ(0,"span",7),t._uU(1," No messages "),t.qZA())}let J=(()=>{class b{constructor(y,M,L,z){this.route=y,this.store=M,this.chatService=L,this.usersService=z,this.usersOnline=[],this.receiverIsTyping=new t.vpe,this.receiverData=null,this.receiverName="",this.user={},this.message="",this.messages=[],this.isOnline=!1,this.content=" ",this.subs=[],this.socket=I()(i.N.baseUrl)}ngOnInit(){this.subs.push(this.store.select(o.UH).subscribe(y=>this.user=y)),this.receiverName=this.receiver.username,this.getUserByUsername(),this.socketUserIsTyping(),this.socketUserStoppedTyping(),this.socketEmitRefresh()}ngOnChanges(y){y.users&&y.users.currentValue.length>0&&(this.isOnline=E.indexOf(y.users.currentValue,this.receiverName)>-1)}ngAfterViewInit(){this.socket.emit("join chat",{room1:this.user.username,room2:this.receiverName})}getUserByUsername(){this.usersService.getUserByUsername(this.receiverName).subscribe(y=>{this.receiverData=y.user,this.getAllMessages(this.user._id,y.user._id)})}getAllMessages(y,M){this.chatService.getMessages(y,M).subscribe(L=>{this.messages=L.message})}ngOnDestroy(){this.socket.removeListener("is_typing"),this.socket.removeListener("has_stopped_typing"),this.subs.forEach(y=>y.unsubscribe())}socketUserIsTyping(){this.socket.on("is_typing",y=>{y.sender===this.receiverName&&this.receiverIsTyping.emit(!0)})}socketUserStoppedTyping(){this.socket.on("has_stopped_typing",y=>{y.sender===this.receiverName&&this.receiverIsTyping.emit(!1)})}socketEmitRefresh(){this.socket.on("refreshPage",()=>{this.getUserByUsername()})}}return b.\u0275fac=function(y){return new(y||b)(t.Y36(h.gz),t.Y36(d.yh),t.Y36(c),t.Y36(R.f))},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-chat-messages"]],inputs:{usersOnline:"usersOnline",receiver:"receiver",currentUser:"currentUser"},outputs:{receiverIsTyping:"receiverIsTyping"},features:[t.TTD],decls:4,vars:3,consts:[["ngx-auto-scroll","","observe-attributes","",1,"messages",3,"lock-y-offset"],[4,"ngIf","ngIfElse"],["noMessagesTpl",""],["class","message-wrapper",3,"message-left-wrapper","message-right-wrapper",4,"ngFor","ngForOf"],[1,"message-wrapper"],[1,"message"],[1,"pointer","circle","avatar",3,"name","avatar","size"],[1,"justify--center","color--grey","text--light","text--ellipsis"]],template:function(y,M){if(1&y&&(t.TgZ(0,"div",0),t.YNc(1,H,2,1,"ng-container",1),t.qZA(),t.YNc(2,Z,2,0,"ng-template",null,2,t.W1O)),2&y){const L=t.MAs(3);t.Q6J("lock-y-offset",10),t.xp6(1),t.Q6J("ngIf",M.messages&&M.messages.length>0)("ngIfElse",L)}},directives:[u,f.O5,f.sg,v.A],pipes:[C.S],styles:[".color--primary[_ngcontent-%COMP%]{color:#6a983c}.color--grey[_ngcontent-%COMP%]{color:#575757}.bg-light[_ngcontent-%COMP%]{background-color:#d1d1d1}.bg-white[_ngcontent-%COMP%]{background-color:#fff}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #ebebeb}[_nghost-%COMP%]{padding-bottom:16px}[_nghost-%COMP%]   .messages[_ngcontent-%COMP%]{height:calc(100vh - 390px);overflow:overlay;padding:16px 32px 16px 16px}[_nghost-%COMP%]   .messages[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row-reverse;margin-right:94px}[_nghost-%COMP%]   .messages[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;display:inline-flex;padding:16px;margin:5px 10px;min-height:40px;width:auto;border-radius:18px;background-color:#377dff;color:#fff;font-style:normal;font-weight:400;font-size:14px;line-height:16px}[_nghost-%COMP%]   .messages[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{visibility:hidden;position:absolute;top:50%;right:-54px;transform:translateY(-50%);width:54px;height:54px;border-radius:50%}[_nghost-%COMP%]   .messages[_ngcontent-%COMP%]   .message-wrapper.message-left-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;margin-left:94px;margin-right:unset}[_nghost-%COMP%]   .messages[_ngcontent-%COMP%]   .message-wrapper.message-left-wrapper[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{background:#f9f9f9;color:#000}[_nghost-%COMP%]   .messages[_ngcontent-%COMP%]   .message-wrapper.message-left-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{left:-54px;right:unset}"]}),b})();function q(b,k){if(1&b){const y=t.EpF();t.TgZ(0,"div",1),t._UZ(1,"cvz-avatar",2),t.ALo(2,"defaultImage"),t.TgZ(3,"input",3),t.NdJ("keydown",function(){return t.CHM(y),t.oxw().isTyping()})("keyup.enter",function(){return t.CHM(y),t.oxw().sendMessage()})("ngModelChange",function(L){return t.CHM(y),t.oxw().message=L}),t.qZA(),t.TgZ(4,"div",4),t._UZ(5,"cvz-icon",5),t.qZA()()}if(2&b){const y=t.oxw();t.xp6(1),t.Q6J("name",y.receiver.fullName)("avatar",t.xi3(2,4,y.receiver.avatarBlobUrl,!0))("size",54),t.xp6(2),t.Q6J("ngModel",y.message)}}let X=(()=>{class b{constructor(y){this.chatService=y,this.receiver={},this.message="",this.socket=I()(i.N.baseUrl)}sendMessage(){this.message&&this.chatService.sendMessage(this.currentUser._id,this.receiver._id,this.receiver.username,this.message).subscribe(y=>{this.socket.emit("refresh",{}),this.message=""})}isTyping(){this.socket.emit("start_typing",{sender:this.currentUser.username,receiver:this.receiver.fullName}),this.typingMessage&&clearTimeout(this.typingMessage),this.typingMessage=setTimeout(()=>{this.socket.emit("stop_typing",{sender:this.currentUser.username,receiver:this.receiver.fullName})},500)}}return b.\u0275fac=function(y){return new(y||b)(t.Y36(c))},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-chat-text-box"]],inputs:{receiver:"receiver",currentUser:"currentUser"},decls:1,vars:1,consts:[["class","chat-text-box b-radius--20 width--full p--16 pr--24 justify--space-between",4,"ngIf"],[1,"chat-text-box","b-radius--20","width--full","p--16","pr--24","justify--space-between"],[1,"avatar","circle",3,"name","avatar","size"],["name","message","placeholder","Write your message...","type","text",1,"chat-text-box--message",3,"ngModel","keydown","keyup.enter","ngModelChange"],[1,"align--center","gap--32"],["name","external-link"]],template:function(y,M){1&y&&t.YNc(0,q,6,7,"div",0),2&y&&t.Q6J("ngIf",M.receiver)},directives:[f.O5,v.A,g.Fj,g.JJ,g.On,w.o],pipes:[C.S],styles:[".color--primary[_ngcontent-%COMP%]{color:#6a983c}.color--grey[_ngcontent-%COMP%]{color:#575757}.bg-light[_ngcontent-%COMP%]{background-color:#d1d1d1}.bg-white[_ngcontent-%COMP%]{background-color:#fff}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #ebebeb}[_nghost-%COMP%]{padding-left:44px;margin-right:32px}.chat-text-box[_ngcontent-%COMP%]{background:#eff2f4}.chat-text-box--message[_ngcontent-%COMP%]{width:100%;margin:0 16px;background:transparent;border:none;outline:none}.avatar[_ngcontent-%COMP%]{position:relative;width:54px;height:54px}.avatar-image[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.avatar-status[_ngcontent-%COMP%]{position:absolute;bottom:0px;right:8px;width:8px;height:8px;z-index:1;background-color:gray;border-radius:50%}.avatar-status.online[_ngcontent-%COMP%]{background-color:green}.avatar-status.offline[_ngcontent-%COMP%]{background-color:gray}.avatar-status.away[_ngcontent-%COMP%]{background-color:orange}"]}),b})();function $(b,k){if(1&b){const y=t.EpF();t.TgZ(0,"div",3),t._UZ(1,"app-chat-top-bar",4),t.TgZ(2,"app-chat-messages",5),t.NdJ("receiverIsTyping",function(L){return t.CHM(y),t.oxw().receiverIsTyping=L}),t.ALo(3,"async"),t.qZA(),t._UZ(4,"app-chat-text-box",6),t.ALo(5,"async"),t.qZA()}if(2&b){const y=t.oxw();t.xp6(1),t.Q6J("contact",y.selectedContact)("receiverIsTyping",y.receiverIsTyping),t.xp6(1),t.Q6J("currentUser",t.lcZ(3,7,y.currentUser$))("receiver",y.selectedContact)("usersOnline",y.usersOnline),t.xp6(2),t.Q6J("currentUser",t.lcZ(5,9,y.currentUser$))("receiver",y.selectedContact)}}const j=[{path:"",component:(()=>{class b{constructor(y,M){this.chatService=y,this.store=M,this.currentUser$=this.store.select(o.UH),this.contacts=[],this.selectedContactIndex=0,this.usersOnline=[],this.receiverIsTyping=!1}ngOnInit(){this.chatService.getUsersForChat().subscribe(y=>{this.contacts=y.map(M=>({_id:M._id,fullName:M.fullName,username:M.username,lastMessage:"",lastMessageTime:new Date,avatarBlobUrl:M.avatarBlobUrl,status:n.H.online})),this.selectedContact=this.contacts[this.selectedContactIndex]})}onSelectedContactChanged(y){this.selectedContactIndex=y,this.selectedContact=this.contacts[this.selectedContactIndex]}online(y){this.usersOnline=y}}return b.\u0275fac=function(y){return new(y||b)(t.Y36(c),t.Y36(d.yh))},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-chat"]],decls:3,vars:3,consts:[[1,"chat-wrapper","pb--64","bg-white","b-radius--16","flex","gap--48"],[3,"contacts","selectedContactIndex","contactSelectionChange"],["class","flex--column justify--space-between width--full",4,"ngIf"],[1,"flex--column","justify--space-between","width--full"],[3,"contact","receiverIsTyping"],[3,"currentUser","receiver","usersOnline","receiverIsTyping"],[3,"currentUser","receiver"]],template:function(y,M){1&y&&(t.TgZ(0,"div",0)(1,"app-chat-contacts",1),t.NdJ("contactSelectionChange",function(z){return M.onSelectedContactChanged(z)}),t.qZA(),t.YNc(2,$,6,11,"div",2),t.qZA()),2&y&&(t.xp6(1),t.Q6J("contacts",M.contacts)("selectedContactIndex",M.selectedContactIndex),t.xp6(1),t.Q6J("ngIf",M.selectedContact))},directives:[B,f.O5,N,J,X],pipes:[f.Ov],styles:[".chat-wrapper[_ngcontent-%COMP%]{height:calc(100vh - 180px)}"]}),b})()}];let W=(()=>{class b{}return b.\u0275fac=function(y){return new(y||b)},b.\u0275mod=t.oAB({type:b}),b.\u0275inj=t.cJS({imports:[[f.ez,g.u5,g.UX,h.Bz.forChild(j),l.Fx,l.Fh,l.QX,p]]}),b})()},8498:x=>{function a(){}x.exports=function s(f,g,h){var l=!1;return h=h||a,t.count=f,0===f?g():t;function t(u,p){if(t.count<=0)throw new Error("after called too many times");--t.count,u?(l=!0,g(u),g=h):0===t.count&&!l&&g(null,p)}}},9933:x=>{x.exports=function(s,a,f){var g=s.byteLength;if(a=a||0,f=f||g,s.slice)return s.slice(a,f);if(a<0&&(a+=g),f<0&&(f+=g),f>g&&(f=g),a>=g||a>=f||0===g)return new ArrayBuffer(0);for(var h=new Uint8Array(s),l=new Uint8Array(f-a),t=a,u=0;t<f;t++,u++)l[u]=h[t];return l.buffer}},2150:x=>{function s(a){this.ms=(a=a||{}).min||100,this.max=a.max||1e4,this.factor=a.factor||2,this.jitter=a.jitter>0&&a.jitter<=1?a.jitter:0,this.attempts=0}x.exports=s,s.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var f=Math.random(),g=Math.floor(f*this.jitter*a);a=0==(1&Math.floor(10*f))?a-g:a+g}return 0|Math.min(a,this.max)},s.prototype.reset=function(){this.attempts=0},s.prototype.setMin=function(a){this.ms=a},s.prototype.setMax=function(a){this.max=a},s.prototype.setJitter=function(a){this.jitter=a}},390:(x,s)=>{!function(a){"use strict";s.encode=function(f){var h,g=new Uint8Array(f),l=g.length,t="";for(h=0;h<l;h+=3)t+=a[g[h]>>2],t+=a[(3&g[h])<<4|g[h+1]>>4],t+=a[(15&g[h+1])<<2|g[h+2]>>6],t+=a[63&g[h+2]];return l%3==2?t=t.substring(0,t.length-1)+"=":l%3==1&&(t=t.substring(0,t.length-2)+"=="),t},s.decode=function(f){var l,u,p,n,o,g=.75*f.length,h=f.length,t=0;"="===f[f.length-1]&&(g--,"="===f[f.length-2]&&g--);var i=new ArrayBuffer(g),r=new Uint8Array(i);for(l=0;l<h;l+=4)u=a.indexOf(f[l]),p=a.indexOf(f[l+1]),n=a.indexOf(f[l+2]),o=a.indexOf(f[l+3]),r[t++]=u<<2|p>>4,r[t++]=(15&p)<<4|n>>2,r[t++]=(3&n)<<6|63&o;return i}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},113:x=>{var s=void 0!==s?s:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,a=function(){try{return 2===new Blob(["hi"]).size}catch(p){return!1}}(),f=a&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(p){return!1}}(),g=s&&s.prototype.append&&s.prototype.getBlob;function h(u){return u.map(function(p){if(p.buffer instanceof ArrayBuffer){var n=p.buffer;if(p.byteLength!==n.byteLength){var o=new Uint8Array(p.byteLength);o.set(new Uint8Array(n,p.byteOffset,p.byteLength)),n=o.buffer}return n}return p})}function l(u,p){p=p||{};var n=new s;return h(u).forEach(function(o){n.append(o)}),p.type?n.getBlob(p.type):n.getBlob()}function t(u,p){return new Blob(h(u),p||{})}"undefined"!=typeof Blob&&(l.prototype=Blob.prototype,t.prototype=Blob.prototype),x.exports=a?f?Blob:t:g?l:void 0},1213:x=>{var s=[].slice;x.exports=function(a,f){if("string"==typeof f&&(f=a[f]),"function"!=typeof f)throw new Error("bind() requires a function");var g=s.call(arguments,2);return function(){return f.apply(a,g.concat(s.call(arguments)))}}},1264:x=>{function s(f){if(f)return function a(f){for(var g in s.prototype)f[g]=s.prototype[g];return f}(f)}x.exports=s,s.prototype.on=s.prototype.addEventListener=function(f,g){return this._callbacks=this._callbacks||{},(this._callbacks["$"+f]=this._callbacks["$"+f]||[]).push(g),this},s.prototype.once=function(f,g){function h(){this.off(f,h),g.apply(this,arguments)}return h.fn=g,this.on(f,h),this},s.prototype.off=s.prototype.removeListener=s.prototype.removeAllListeners=s.prototype.removeEventListener=function(f,g){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var h=this._callbacks["$"+f];if(!h)return this;if(1==arguments.length)return delete this._callbacks["$"+f],this;for(var l,t=0;t<h.length;t++)if((l=h[t])===g||l.fn===g){h.splice(t,1);break}return 0===h.length&&delete this._callbacks["$"+f],this},s.prototype.emit=function(f){this._callbacks=this._callbacks||{};for(var g=new Array(arguments.length-1),h=this._callbacks["$"+f],l=1;l<arguments.length;l++)g[l-1]=arguments[l];if(h){l=0;for(var t=(h=h.slice(0)).length;l<t;++l)h[l].apply(this,g)}return this},s.prototype.listeners=function(f){return this._callbacks=this._callbacks||{},this._callbacks["$"+f]||[]},s.prototype.hasListeners=function(f){return!!this.listeners(f).length}},9471:x=>{x.exports=function(s,a){var f=function(){};f.prototype=a.prototype,s.prototype=new f,s.prototype.constructor=s}},851:x=>{x.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},7410:(x,s,a)=>{x.exports=a(3213),x.exports.parser=a(552)},3213:(x,s,a)=>{var f=a(1497),g=a(1264),h=a(2534)("engine.io-client:socket"),l=a(4068),t=a(552),u=a(1757),p=a(3257);function n(i,r){if(!(this instanceof n))return new n(i,r);r=r||{},i&&"object"==typeof i&&(r=i,i=null),i?(i=u(i),r.hostname=i.host,r.secure="https"===i.protocol||"wss"===i.protocol,r.port=i.port,i.query&&(r.query=i.query)):r.host&&(r.hostname=u(r.host).host),this.secure=null!=r.secure?r.secure:"undefined"!=typeof location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.agent=r.agent||!1,this.hostname=r.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=r.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=r.query||{},"string"==typeof this.query&&(this.query=p.decode(this.query)),this.upgrade=!1!==r.upgrade,this.path=(r.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!r.forceJSONP,this.jsonp=!1!==r.jsonp,this.forceBase64=!!r.forceBase64,this.enablesXDR=!!r.enablesXDR,this.withCredentials=!1!==r.withCredentials,this.timestampParam=r.timestampParam||"t",this.timestampRequests=r.timestampRequests,this.transports=r.transports||["polling","websocket"],this.transportOptions=r.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=r.policyPort||843,this.rememberUpgrade=r.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=r.onlyBinaryUpgrades,this.perMessageDeflate=!1!==r.perMessageDeflate&&(r.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=r.pfx||void 0,this.key=r.key||void 0,this.passphrase=r.passphrase||void 0,this.cert=r.cert||void 0,this.ca=r.ca||void 0,this.ciphers=r.ciphers||void 0,this.rejectUnauthorized=void 0===r.rejectUnauthorized||r.rejectUnauthorized,this.forceNode=!!r.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(r.extraHeaders&&Object.keys(r.extraHeaders).length>0&&(this.extraHeaders=r.extraHeaders),r.localAddress&&(this.localAddress=r.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}x.exports=n,n.priorWebsocketSuccess=!1,g(n.prototype),n.protocol=t.protocol,n.Socket=n,n.Transport=a(3330),n.transports=a(1497),n.parser=a(552),n.prototype.createTransport=function(i){h('creating transport "%s"',i);var r=function o(i){var r={};for(var e in i)i.hasOwnProperty(e)&&(r[e]=i[e]);return r}(this.query);r.EIO=t.protocol,r.transport=i;var e=this.transportOptions[i]||{};return this.id&&(r.sid=this.id),new f[i]({query:r,socket:this,agent:e.agent||this.agent,hostname:e.hostname||this.hostname,port:e.port||this.port,secure:e.secure||this.secure,path:e.path||this.path,forceJSONP:e.forceJSONP||this.forceJSONP,jsonp:e.jsonp||this.jsonp,forceBase64:e.forceBase64||this.forceBase64,enablesXDR:e.enablesXDR||this.enablesXDR,withCredentials:e.withCredentials||this.withCredentials,timestampRequests:e.timestampRequests||this.timestampRequests,timestampParam:e.timestampParam||this.timestampParam,policyPort:e.policyPort||this.policyPort,pfx:e.pfx||this.pfx,key:e.key||this.key,passphrase:e.passphrase||this.passphrase,cert:e.cert||this.cert,ca:e.ca||this.ca,ciphers:e.ciphers||this.ciphers,rejectUnauthorized:e.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:e.perMessageDeflate||this.perMessageDeflate,extraHeaders:e.extraHeaders||this.extraHeaders,forceNode:e.forceNode||this.forceNode,localAddress:e.localAddress||this.localAddress,requestTimeout:e.requestTimeout||this.requestTimeout,protocols:e.protocols||void 0,isReactNative:this.isReactNative})},n.prototype.open=function(){var i;if(this.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))i="websocket";else{if(0===this.transports.length){var r=this;return void setTimeout(function(){r.emit("error","No transports available")},0)}i=this.transports[0]}this.readyState="opening";try{i=this.createTransport(i)}catch(e){return this.transports.shift(),void this.open()}i.open(),this.setTransport(i)},n.prototype.setTransport=function(i){h("setting transport %s",i.name);var r=this;this.transport&&(h("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=i,i.on("drain",function(){r.onDrain()}).on("packet",function(e){r.onPacket(e)}).on("error",function(e){r.onError(e)}).on("close",function(){r.onClose("transport close")})},n.prototype.probe=function(i){h('probing transport "%s"',i);var r=this.createTransport(i,{probe:1}),e=!1,c=this;function d(){c.onlyBinaryUpgrades&&(e=e||!this.supportsBinary&&c.transport.supportsBinary),e||(h('probe transport "%s" opened',i),r.send([{type:"ping",data:"probe"}]),r.once("packet",function(A){if(!e)if("pong"===A.type&&"probe"===A.data){if(h('probe transport "%s" pong',i),c.upgrading=!0,c.emit("upgrading",r),!r)return;n.priorWebsocketSuccess="websocket"===r.name,h('pausing current transport "%s"',c.transport.name),c.transport.pause(function(){e||"closed"!==c.readyState&&(h("changing transport and sending upgrade packet"),m(),c.setTransport(r),r.send([{type:"upgrade"}]),c.emit("upgrade",r),r=null,c.upgrading=!1,c.flush())})}else{h('probe transport "%s" failed',i);var B=new Error("probe error");B.transport=r.name,c.emit("upgradeError",B)}}))}function w(){e||(e=!0,m(),r.close(),r=null)}function v(F){var A=new Error("probe error: "+F);A.transport=r.name,w(),h('probe transport "%s" failed because of error: %s',i,F),c.emit("upgradeError",A)}function C(){v("transport closed")}function O(){v("socket closed")}function U(F){r&&F.name!==r.name&&(h('"%s" works - aborting "%s"',F.name,r.name),w())}function m(){r.removeListener("open",d),r.removeListener("error",v),r.removeListener("close",C),c.removeListener("close",O),c.removeListener("upgrading",U)}n.priorWebsocketSuccess=!1,r.once("open",d),r.once("error",v),r.once("close",C),this.once("close",O),this.once("upgrading",U),r.open()},n.prototype.onOpen=function(){if(h("socket open"),this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){h("starting upgrade probes");for(var i=0,r=this.upgrades.length;i<r;i++)this.probe(this.upgrades[i])}},n.prototype.onPacket=function(i){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(h('socket receive: type "%s", data "%s"',i.type,i.data),this.emit("packet",i),this.emit("heartbeat"),i.type){case"open":this.onHandshake(JSON.parse(i.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var r=new Error("server error");r.code=i.data,this.onError(r);break;case"message":this.emit("data",i.data),this.emit("message",i.data)}else h('packet received with socket readyState "%s"',this.readyState)},n.prototype.onHandshake=function(i){this.emit("handshake",i),this.id=i.sid,this.transport.query.sid=i.sid,this.upgrades=this.filterUpgrades(i.upgrades),this.pingInterval=i.pingInterval,this.pingTimeout=i.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},n.prototype.onHeartbeat=function(i){clearTimeout(this.pingTimeoutTimer);var r=this;r.pingTimeoutTimer=setTimeout(function(){"closed"!==r.readyState&&r.onClose("ping timeout")},i||r.pingInterval+r.pingTimeout)},n.prototype.setPing=function(){var i=this;clearTimeout(i.pingIntervalTimer),i.pingIntervalTimer=setTimeout(function(){h("writing ping packet - expecting pong within %sms",i.pingTimeout),i.ping(),i.onHeartbeat(i.pingTimeout)},i.pingInterval)},n.prototype.ping=function(){var i=this;this.sendPacket("ping",function(){i.emit("ping")})},n.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},n.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(h("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},n.prototype.write=n.prototype.send=function(i,r,e){return this.sendPacket("message",i,r,e),this},n.prototype.sendPacket=function(i,r,e,c){if("function"==typeof r&&(c=r,r=void 0),"function"==typeof e&&(c=e,e=null),"closing"!==this.readyState&&"closed"!==this.readyState){(e=e||{}).compress=!1!==e.compress;var d={type:i,data:r,options:e};this.emit("packetCreate",d),this.writeBuffer.push(d),c&&this.once("flush",c),this.flush()}},n.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var i=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?c():r()}):this.upgrading?c():r()}function r(){i.onClose("forced close"),h("socket closing - telling transport to close"),i.transport.close()}function e(){i.removeListener("upgrade",e),i.removeListener("upgradeError",e),r()}function c(){i.once("upgrade",e),i.once("upgradeError",e)}return this},n.prototype.onError=function(i){h("socket error %j",i),n.priorWebsocketSuccess=!1,this.emit("error",i),this.onClose("transport error",i)},n.prototype.onClose=function(i,r){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(h('socket close with reason: "%s"',i),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",i,r),this.writeBuffer=[],this.prevBufferLen=0)},n.prototype.filterUpgrades=function(i){for(var r=[],e=0,c=i.length;e<c;e++)~l(this.transports,i[e])&&r.push(i[e]);return r}},3330:(x,s,a)=>{var f=a(552),g=a(1264);function h(l){this.path=l.path,this.hostname=l.hostname,this.port=l.port,this.secure=l.secure,this.query=l.query,this.timestampParam=l.timestampParam,this.timestampRequests=l.timestampRequests,this.readyState="",this.agent=l.agent||!1,this.socket=l.socket,this.enablesXDR=l.enablesXDR,this.withCredentials=l.withCredentials,this.pfx=l.pfx,this.key=l.key,this.passphrase=l.passphrase,this.cert=l.cert,this.ca=l.ca,this.ciphers=l.ciphers,this.rejectUnauthorized=l.rejectUnauthorized,this.forceNode=l.forceNode,this.isReactNative=l.isReactNative,this.extraHeaders=l.extraHeaders,this.localAddress=l.localAddress}x.exports=h,g(h.prototype),h.prototype.onError=function(l,t){var u=new Error(l);return u.type="TransportError",u.description=t,this.emit("error",u),this},h.prototype.open=function(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this},h.prototype.close=function(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this},h.prototype.send=function(l){if("open"!==this.readyState)throw new Error("Transport not open");this.write(l)},h.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},h.prototype.onData=function(l){var t=f.decodePacket(l,this.socket.binaryType);this.onPacket(t)},h.prototype.onPacket=function(l){this.emit("packet",l)},h.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},1497:(x,s,a)=>{var f=a(3035),g=a(2889),h=a(6029),l=a(3909);s.polling=function t(u){var n=!1,o=!1,i=!1!==u.jsonp;if("undefined"!=typeof location){var r="https:"===location.protocol,e=location.port;e||(e=r?443:80),n=u.hostname!==location.hostname||e!==u.port,o=u.secure!==r}if(u.xdomain=n,u.xscheme=o,"open"in new f(u)&&!u.forceJSONP)return new g(u);if(!i)throw new Error("JSONP disabled");return new h(u)},s.websocket=l},6029:(x,s,a)=>{var f=a(3904),g=a(9471),h=a(851);x.exports=n;var u,l=/\n/g,t=/\\n/g;function p(){}function n(o){f.call(this,o),this.query=this.query||{},u||(u=h.___eio=h.___eio||[]),this.index=u.length;var i=this;u.push(function(r){i.onData(r)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){i.script&&(i.script.onerror=p)},!1)}g(n,f),n.prototype.supportsBinary=!1,n.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),f.prototype.doClose.call(this)},n.prototype.doPoll=function(){var o=this,i=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),i.async=!0,i.src=this.uri(),i.onerror=function(c){o.onError("jsonp poll error",c)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(i,r):(document.head||document.body).appendChild(i),this.script=i,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var c=document.createElement("iframe");document.body.appendChild(c),document.body.removeChild(c)},100)},n.prototype.doWrite=function(o,i){var r=this;if(!this.form){var w,e=document.createElement("form"),c=document.createElement("textarea"),d=this.iframeId="eio_iframe_"+this.index;e.className="socketio",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.target=d,e.method="POST",e.setAttribute("accept-charset","utf-8"),c.name="d",e.appendChild(c),document.body.appendChild(e),this.form=e,this.area=c}function v(){C(),i()}function C(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(U){r.onError("jsonp polling iframe removal error",U)}try{w=document.createElement('<iframe src="javascript:0" name="'+r.iframeId+'">')}catch(U){(w=document.createElement("iframe")).name=r.iframeId,w.src="javascript:0"}w.id=r.iframeId,r.form.appendChild(w),r.iframe=w}this.form.action=this.uri(),C(),o=o.replace(t,"\\\n"),this.area.value=o.replace(l,"\\n");try{this.form.submit()}catch(O){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&v()}:this.iframe.onload=v}},2889:(x,s,a)=>{var f=a(3035),g=a(3904),h=a(1264),l=a(9471),t=a(2534)("engine.io-client:polling-xhr"),u=a(851);function p(){}function n(e){if(g.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var c="https:"===location.protocol,d=location.port;d||(d=c?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||d!==e.port,this.xs=e.secure!==c}}function o(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function r(){for(var e in o.requests)o.requests.hasOwnProperty(e)&&o.requests[e].abort()}x.exports=n,x.exports.Request=o,l(n,g),n.prototype.supportsBinary=!0,n.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new o(e)},n.prototype.doWrite=function(e,c){var w=this.request({method:"POST",data:e,isBinary:"string"!=typeof e&&void 0!==e}),v=this;w.on("success",c),w.on("error",function(C){v.onError("xhr post error",C)}),this.sendXhr=w},n.prototype.doPoll=function(){t("xhr poll");var e=this.request(),c=this;e.on("data",function(d){c.onData(d)}),e.on("error",function(d){c.onError("xhr poll error",d)}),this.pollXhr=e},h(o.prototype),o.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var c=this.xhr=new f(e),d=this;try{t("xhr open %s: %s",this.method,this.uri),c.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var w in c.setDisableHeaderCheck&&c.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(w)&&c.setRequestHeader(w,this.extraHeaders[w])}catch(v){}if("POST"===this.method)try{c.setRequestHeader("Content-type",this.isBinary?"application/octet-stream":"text/plain;charset=UTF-8")}catch(v){}try{c.setRequestHeader("Accept","*/*")}catch(v){}"withCredentials"in c&&(c.withCredentials=this.withCredentials),this.requestTimeout&&(c.timeout=this.requestTimeout),this.hasXDR()?(c.onload=function(){d.onLoad()},c.onerror=function(){d.onError(c.responseText)}):c.onreadystatechange=function(){if(2===c.readyState)try{var v=c.getResponseHeader("Content-Type");(d.supportsBinary&&"application/octet-stream"===v||"application/octet-stream; charset=UTF-8"===v)&&(c.responseType="arraybuffer")}catch(C){}4===c.readyState&&(200===c.status||1223===c.status?d.onLoad():setTimeout(function(){d.onError("number"==typeof c.status?c.status:0)},0))},t("xhr data %s",this.data),c.send(this.data)}catch(v){return void setTimeout(function(){d.onError(v)},0)}"undefined"!=typeof document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},o.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},o.prototype.cleanup=function(e){if(null!=this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=p:this.xhr.onreadystatechange=p,e)try{this.xhr.abort()}catch(c){}"undefined"!=typeof document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var e;try{var c;try{c=this.xhr.getResponseHeader("Content-Type")}catch(d){}e=("application/octet-stream"===c||"application/octet-stream; charset=UTF-8"===c)&&this.xhr.response||this.xhr.responseText}catch(d){this.onError(d)}null!=e&&this.onData(e)},o.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},o.requestsCount=0,o.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",r):"function"==typeof addEventListener&&addEventListener("onpagehide"in u?"pagehide":"unload",r,!1))},3904:(x,s,a)=>{var f=a(3330),g=a(3257),h=a(552),l=a(9471),t=a(5379),u=a(2534)("engine.io-client:polling");x.exports=n;var p=null!=new(a(3035))({xdomain:!1}).responseType;function n(o){(!p||o&&o.forceBase64)&&(this.supportsBinary=!1),f.call(this,o)}l(n,f),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(o){var i=this;function r(){u("paused"),i.readyState="paused",o()}if(this.readyState="pausing",this.polling||!this.writable){var e=0;this.polling&&(u("we are currently polling - waiting to pause"),e++,this.once("pollComplete",function(){u("pre-pause polling complete"),--e||r()})),this.writable||(u("we are currently writing - waiting to pause"),e++,this.once("drain",function(){u("pre-pause writing complete"),--e||r()}))}else r()},n.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(o){var i=this;u("polling got data %s",o),h.decodePayload(o,this.socket.binaryType,function(e,c,d){if("opening"===i.readyState&&"open"===e.type&&i.onOpen(),"close"===e.type)return i.onClose(),!1;i.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},n.prototype.doClose=function(){var o=this;function i(){u("writing close packet"),o.write([{type:"close"}])}"open"===this.readyState?(u("transport open - closing"),i()):(u("transport not open - deferring close"),this.once("open",i))},n.prototype.write=function(o){var i=this;this.writable=!1;var r=function(){i.writable=!0,i.emit("drain")};h.encodePayload(o,this.supportsBinary,function(e){i.doWrite(e,r)})},n.prototype.uri=function(){var o=this.query||{},i=this.secure?"https":"http",r="";return!1!==this.timestampRequests&&(o[this.timestampParam]=t()),!this.supportsBinary&&!o.sid&&(o.b64=1),o=g.encode(o),this.port&&("https"===i&&443!==Number(this.port)||"http"===i&&80!==Number(this.port))&&(r=":"+this.port),o.length&&(o="?"+o),i+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+r+this.path+o}},3909:(x,s,a)=>{var p,n,f=a(3330),g=a(552),h=a(3257),l=a(9471),t=a(5379),u=a(2534)("engine.io-client:websocket");if("undefined"!=typeof WebSocket?p=WebSocket:"undefined"!=typeof self&&(p=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{n=a(7020)}catch(r){}var o=p||n;function i(r){r&&r.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=r.perMessageDeflate,this.usingBrowserWebSocket=p&&!r.forceNode,this.protocols=r.protocols,this.usingBrowserWebSocket||(o=n),f.call(this,r)}x.exports=i,l(i,f),i.prototype.name="websocket",i.prototype.supportsBinary=!0,i.prototype.doOpen=function(){if(this.check()){var r=this.uri(),e=this.protocols,c={};this.isReactNative||(c.agent=this.agent,c.perMessageDeflate=this.perMessageDeflate,c.pfx=this.pfx,c.key=this.key,c.passphrase=this.passphrase,c.cert=this.cert,c.ca=this.ca,c.ciphers=this.ciphers,c.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(c.headers=this.extraHeaders),this.localAddress&&(c.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new o(r,e):new o(r):new o(r,e,c)}catch(d){return this.emit("error",d)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},i.prototype.addEventListeners=function(){var r=this;this.ws.onopen=function(){r.onOpen()},this.ws.onclose=function(){r.onClose()},this.ws.onmessage=function(e){r.onData(e.data)},this.ws.onerror=function(e){r.onError("websocket error",e)}},i.prototype.write=function(r){var e=this;this.writable=!1;for(var c=r.length,d=0,w=c;d<w;d++)!function(C){g.encodePacket(C,e.supportsBinary,function(O){if(!e.usingBrowserWebSocket){var U={};C.options&&(U.compress=C.options.compress),e.perMessageDeflate&&("string"==typeof O?Buffer.byteLength(O):O.length)<e.perMessageDeflate.threshold&&(U.compress=!1)}try{e.usingBrowserWebSocket?e.ws.send(O):e.ws.send(O,U)}catch(F){u("websocket closed before onclose event")}--c||(e.emit("flush"),setTimeout(function(){e.writable=!0,e.emit("drain")},0))})}(r[d])},i.prototype.onClose=function(){f.prototype.onClose.call(this)},i.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},i.prototype.uri=function(){var r=this.query||{},e=this.secure?"wss":"ws",c="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(c=":"+this.port),this.timestampRequests&&(r[this.timestampParam]=t()),this.supportsBinary||(r.b64=1),(r=h.encode(r)).length&&(r="?"+r),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+c+this.path+r},i.prototype.check=function(){return!(!o||"__initialize"in o&&this.name===i.prototype.name)}},3035:(x,s,a)=>{var f=a(764),g=a(851);x.exports=function(h){var l=h.xdomain,t=h.xscheme,u=h.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!l||f))return new XMLHttpRequest}catch(p){}try{if("undefined"!=typeof XDomainRequest&&!t&&u)return new XDomainRequest}catch(p){}if(!l)try{return new(g[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(p){}}},2534:(x,s,a)=>{function t(){var p;try{p=s.storage.debug}catch(n){}return!p&&"undefined"!=typeof process&&"env"in process&&(p=process.env.DEBUG),p}(s=x.exports=a(4071)).log=function h(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},s.formatArgs=function g(p){var n=this.useColors;if(p[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+p[0]+(n?"%c ":" ")+"+"+s.humanize(this.diff),n){var o="color: "+this.color;p.splice(1,0,o,"color: inherit");var i=0,r=0;p[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(r=i))}),p.splice(r,0,o)}},s.save=function l(p){try{null==p?s.storage.removeItem("debug"):s.storage.debug=p}catch(n){}},s.load=t,s.useColors=function f(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},s.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function u(){try{return window.localStorage}catch(p){}}(),s.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],s.formatters.j=function(p){try{return JSON.stringify(p)}catch(n){return"[UnexpectedJSONParseError]: "+n.message}},s.enable(t())},4071:(x,s,a)=>{function g(n){var o;function i(){if(i.enabled){var r=i,e=+new Date,c=e-(o||e);r.diff=c,r.prev=o,r.curr=e,o=e;for(var d=new Array(arguments.length),w=0;w<d.length;w++)d[w]=arguments[w];d[0]=s.coerce(d[0]),"string"!=typeof d[0]&&d.unshift("%O");var v=0;d[0]=d[0].replace(/%([a-zA-Z%])/g,function(O,U){if("%%"===O)return O;v++;var m=s.formatters[U];return"function"==typeof m&&(O=m.call(r,d[v]),d.splice(v,1),v--),O}),s.formatArgs.call(r,d);var C=i.log||s.log||console.log.bind(console);C.apply(r,d)}}return i.namespace=n,i.enabled=s.enabled(n),i.useColors=s.useColors(),i.color=function f(n){var i,o=0;for(i in n)o=(o<<5)-o+n.charCodeAt(i),o|=0;return s.colors[Math.abs(o)%s.colors.length]}(n),i.destroy=h,"function"==typeof s.init&&s.init(i),s.instances.push(i),i}function h(){var n=s.instances.indexOf(this);return-1!==n&&(s.instances.splice(n,1),!0)}(s=x.exports=g.debug=g.default=g).coerce=function p(n){return n instanceof Error?n.stack||n.message:n},s.disable=function t(){s.enable("")},s.enable=function l(n){s.save(n),s.names=[],s.skips=[];var o,i=("string"==typeof n?n:"").split(/[\s,]+/),r=i.length;for(o=0;o<r;o++)!i[o]||("-"===(n=i[o].replace(/\*/g,".*?"))[0]?s.skips.push(new RegExp("^"+n.substr(1)+"$")):s.names.push(new RegExp("^"+n+"$")));for(o=0;o<s.instances.length;o++){var e=s.instances[o];e.enabled=s.enabled(e.namespace)}},s.enabled=function u(n){if("*"===n[n.length-1])return!0;var o,i;for(o=0,i=s.skips.length;o<i;o++)if(s.skips[o].test(n))return!1;for(o=0,i=s.names.length;o<i;o++)if(s.names[o].test(n))return!0;return!1},s.humanize=a(20),s.instances=[],s.names=[],s.skips=[],s.formatters={}},552:(x,s,a)=>{var u,f=a(1710),g=a(988),h=a(9933),l=a(8498),t=a(8870);"undefined"!=typeof ArrayBuffer&&(u=a(390));var p="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),n="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),o=p||n;s.protocol=3;var i=s.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},r=f(i),e={type:"error",data:"parser error"},c=a(113);function U(m,F,A){for(var B=new Array(m.length),T=l(m.length,A),S=function(E,P,I){F(P,function(R,D){B[E]=D,I(R,B)})},N=0;N<m.length;N++)S(N,m[N],T)}s.encodePacket=function(m,F,A,B){"function"==typeof F&&(B=F,F=!1),"function"==typeof A&&(B=A,A=null);var T=void 0===m.data?void 0:m.data.buffer||m.data;if("undefined"!=typeof ArrayBuffer&&T instanceof ArrayBuffer)return function w(m,F,A){if(!F)return s.encodeBase64Packet(m,A);var B=m.data,T=new Uint8Array(B),S=new Uint8Array(1+B.byteLength);S[0]=i[m.type];for(var N=0;N<T.length;N++)S[N+1]=T[N];return A(S.buffer)}(m,F,B);if(void 0!==c&&T instanceof c)return function C(m,F,A){if(!F)return s.encodeBase64Packet(m,A);if(o)return function v(m,F,A){if(!F)return s.encodeBase64Packet(m,A);var B=new FileReader;return B.onload=function(){s.encodePacket({type:m.type,data:B.result},F,!0,A)},B.readAsArrayBuffer(m.data)}(m,F,A);var B=new Uint8Array(1);return B[0]=i[m.type],A(new c([B.buffer,m.data]))}(m,F,B);if(T&&T.base64)return function d(m,F){return F("b"+s.packets[m.type]+m.data.data)}(m,B);var S=i[m.type];return void 0!==m.data&&(S+=A?t.encode(String(m.data),{strict:!1}):String(m.data)),B(""+S)},s.encodeBase64Packet=function(m,F){var T,A="b"+s.packets[m.type];if(void 0!==c&&m.data instanceof c){var B=new FileReader;return B.onload=function(){var P=B.result.split(",")[1];F(A+P)},B.readAsDataURL(m.data)}try{T=String.fromCharCode.apply(null,new Uint8Array(m.data))}catch(P){for(var S=new Uint8Array(m.data),N=new Array(S.length),E=0;E<S.length;E++)N[E]=S[E];T=String.fromCharCode.apply(null,N)}return A+=btoa(T),F(A)},s.decodePacket=function(m,F,A){if(void 0===m)return e;if("string"==typeof m){if("b"===m.charAt(0))return s.decodeBase64Packet(m.substr(1),F);if(A&&!1===(m=function O(m){try{m=t.decode(m,{strict:!1})}catch(F){return!1}return m}(m)))return e;var T=m.charAt(0);return Number(T)==T&&r[T]?m.length>1?{type:r[T],data:m.substring(1)}:{type:r[T]}:e}T=new Uint8Array(m)[0];var S=h(m,1);return c&&"blob"===F&&(S=new c([S])),{type:r[T],data:S}},s.decodeBase64Packet=function(m,F){var A=r[m.charAt(0)];if(!u)return{type:A,data:{base64:!0,data:m.substr(1)}};var B=u.decode(m.substr(1));return"blob"===F&&c&&(B=new c([B])),{type:A,data:B}},s.encodePayload=function(m,F,A){"function"==typeof F&&(A=F,F=null);var B=g(m);return F&&B?c&&!o?s.encodePayloadAsBlob(m,A):s.encodePayloadAsArrayBuffer(m,A):m.length?void U(m,function S(N,E){s.encodePacket(N,!!B&&F,!1,function(P){E(null,function T(N){return N.length+":"+N}(P))})},function(N,E){return A(E.join(""))}):A("0:")},s.decodePayload=function(m,F,A){if("string"!=typeof m)return s.decodePayloadAsBinary(m,F,A);var B;if("function"==typeof F&&(A=F,F=null),""===m)return A(e,0,1);for(var S,N,T="",E=0,P=m.length;E<P;E++){var I=m.charAt(E);if(":"===I){if(""===T||T!=(S=Number(T))||T!=(N=m.substr(E+1,S)).length)return A(e,0,1);if(N.length){if(B=s.decodePacket(N,F,!1),e.type===B.type&&e.data===B.data)return A(e,0,1);if(!1===A(B,E+S,P))return}E+=S,T=""}else T+=I}return""!==T?A(e,0,1):void 0},s.encodePayloadAsArrayBuffer=function(m,F){if(!m.length)return F(new ArrayBuffer(0));U(m,function A(B,T){s.encodePacket(B,!0,!0,function(S){return T(null,S)})},function(B,T){var S=T.reduce(function(P,I){var R;return P+(R="string"==typeof I?I.length:I.byteLength).toString().length+R+2},0),N=new Uint8Array(S),E=0;return T.forEach(function(P){var I="string"==typeof P,R=P;if(I){for(var Z=new Uint8Array(P.length),D=0;D<P.length;D++)Z[D]=P.charCodeAt(D);R=Z.buffer}N[E++]=I?0:1;var H=R.byteLength.toString();for(D=0;D<H.length;D++)N[E++]=parseInt(H[D]);for(N[E++]=255,Z=new Uint8Array(R),D=0;D<Z.length;D++)N[E++]=Z[D]}),F(N.buffer)})},s.encodePayloadAsBlob=function(m,F){U(m,function A(B,T){s.encodePacket(B,!0,!0,function(S){var N=new Uint8Array(1);if(N[0]=1,"string"==typeof S){for(var E=new Uint8Array(S.length),P=0;P<S.length;P++)E[P]=S.charCodeAt(P);S=E.buffer,N[0]=0}var R=(S instanceof ArrayBuffer?S.byteLength:S.size).toString(),D=new Uint8Array(R.length+1);for(P=0;P<R.length;P++)D[P]=parseInt(R[P]);if(D[R.length]=255,c){var H=new c([N.buffer,D.buffer,S]);T(null,H)}})},function(B,T){return F(new c(T))})},s.decodePayloadAsBinary=function(m,F,A){"function"==typeof F&&(A=F,F=null);for(var B=m,T=[];B.byteLength>0;){for(var S=new Uint8Array(B),N=0===S[0],E="",P=1;255!==S[P];P++){if(E.length>310)return A(e,0,1);E+=S[P]}B=h(B,2+E.length),E=parseInt(E);var I=h(B,0,E);if(N)try{I=String.fromCharCode.apply(null,new Uint8Array(I))}catch(H){var R=new Uint8Array(I);for(I="",P=0;P<R.length;P++)I+=String.fromCharCode(R[P])}T.push(I),B=h(B,E)}var D=T.length;T.forEach(function(H,Z){A(s.decodePacket(H,F,!0),Z,D)})}},1710:x=>{x.exports=Object.keys||function(a){var f=[],g=Object.prototype.hasOwnProperty;for(var h in a)g.call(a,h)&&f.push(h);return f}},8870:x=>{var n,o,i,s=String.fromCharCode;function a(e){for(var v,C,c=[],d=0,w=e.length;d<w;)(v=e.charCodeAt(d++))>=55296&&v<=56319&&d<w?56320==(64512&(C=e.charCodeAt(d++)))?c.push(((1023&v)<<10)+(1023&C)+65536):(c.push(v),d--):c.push(v);return c}function g(e,c){if(e>=55296&&e<=57343){if(c)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function h(e,c){return s(e>>c&63|128)}function l(e,c){if(0==(4294967168&e))return s(e);var d="";return 0==(4294965248&e)?d=s(e>>6&31|192):0==(4294901760&e)?(g(e,c)||(e=65533),d=s(e>>12&15|224),d+=h(e,6)):0==(4292870144&e)&&(d=s(e>>18&7|240),d+=h(e,12),d+=h(e,6)),d+s(63&e|128)}function u(){if(i>=o)throw Error("Invalid byte index");var e=255&n[i];if(i++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function p(e){var c,C;if(i>o)throw Error("Invalid byte index");if(i==o)return!1;if(c=255&n[i],i++,0==(128&c))return c;if(192==(224&c)){if((C=(31&c)<<6|u())>=128)return C;throw Error("Invalid continuation byte")}if(224==(240&c)){if((C=(15&c)<<12|u()<<6|u())>=2048)return g(C,e)?C:65533;throw Error("Invalid continuation byte")}if(240==(248&c)&&(C=(7&c)<<18|u()<<12|u()<<6|u())>=65536&&C<=1114111)return C;throw Error("Invalid UTF-8 detected")}x.exports={version:"2.1.2",encode:function t(e,c){for(var d=!1!==(c=c||{}).strict,w=a(e),v=w.length,C=-1,U="";++C<v;)U+=l(w[C],d);return U},decode:function r(e,c){var d=!1!==(c=c||{}).strict;n=a(e),o=n.length,i=0;for(var v,w=[];!1!==(v=p(d));)w.push(v);return function f(e){for(var w,c=e.length,d=-1,v="";++d<c;)(w=e[d])>65535&&(v+=s((w-=65536)>>>10&1023|55296),w=56320|1023&w),v+=s(w);return v}(w)}}},20:x=>{var s=1e3,a=60*s,f=60*a,g=24*f;function p(n,o,i){if(!(n<o))return n<1.5*o?Math.floor(n/o)+" "+i:Math.ceil(n/o)+" "+i+"s"}x.exports=function(n,o){o=o||{};var i=typeof n;if("string"===i&&n.length>0)return function l(n){if(!((n=String(n)).length>100)){var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(n);if(o){var i=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"days":case"day":case"d":return i*g;case"hours":case"hour":case"hrs":case"hr":case"h":return i*f;case"minutes":case"minute":case"mins":case"min":case"m":return i*a;case"seconds":case"second":case"secs":case"sec":case"s":return i*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(n);if("number"===i&&!1===isNaN(n))return o.long?function u(n){return p(n,g,"day")||p(n,f,"hour")||p(n,a,"minute")||p(n,s,"second")||n+" ms"}(n):function t(n){return n>=g?Math.round(n/g)+"d":n>=f?Math.round(n/f)+"h":n>=a?Math.round(n/a)+"m":n>=s?Math.round(n/s)+"s":n+"ms"}(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))}},988:(x,s,a)=>{var f=a(7822),g=Object.prototype.toString,h="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===g.call(Blob),l="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===g.call(File);x.exports=function t(u){if(!u||"object"!=typeof u)return!1;if(f(u)){for(var p=0,n=u.length;p<n;p++)if(t(u[p]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(u)||"function"==typeof ArrayBuffer&&u instanceof ArrayBuffer||h&&u instanceof Blob||l&&u instanceof File)return!0;if(u.toJSON&&"function"==typeof u.toJSON&&1===arguments.length)return t(u.toJSON(),!0);for(var o in u)if(Object.prototype.hasOwnProperty.call(u,o)&&t(u[o]))return!0;return!1}},7822:x=>{var s={}.toString;x.exports=Array.isArray||function(a){return"[object Array]"==s.call(a)}},764:x=>{try{x.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(s){x.exports=!1}},4068:x=>{var s=[].indexOf;x.exports=function(a,f){if(s)return a.indexOf(f);for(var g=0;g<a.length;++g)if(a[g]===f)return g;return-1}},3257:(x,s)=>{s.encode=function(a){var f="";for(var g in a)a.hasOwnProperty(g)&&(f.length&&(f+="&"),f+=encodeURIComponent(g)+"="+encodeURIComponent(a[g]));return f},s.decode=function(a){for(var f={},g=a.split("&"),h=0,l=g.length;h<l;h++){var t=g[h].split("=");f[decodeURIComponent(t[0])]=decodeURIComponent(t[1])}return f}},1757:x=>{var s=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,a=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];x.exports=function(l){var t=l,u=l.indexOf("["),p=l.indexOf("]");-1!=u&&-1!=p&&(l=l.substring(0,u)+l.substring(u,p).replace(/:/g,";")+l.substring(p,l.length));for(var n=s.exec(l||""),o={},i=14;i--;)o[a[i]]=n[i]||"";return-1!=u&&-1!=p&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function f(h,l){var u=l.replace(/\/{2,9}/g,"/").split("/");return("/"==l.substr(0,1)||0===l.length)&&u.splice(0,1),"/"==l.substr(l.length-1,1)&&u.splice(u.length-1,1),u}(0,o.path),o.queryKey=function g(h,l){var t={};return l.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(u,p,n){p&&(t[p]=n)}),t}(0,o.query),o}},685:(x,s,a)=>{var f=a(1958),g=a(1086),h=a(2276),l=a(3039)("socket.io-client");x.exports=s=u;var t=s.managers={};function u(p,n){"object"==typeof p&&(n=p,p=void 0),n=n||{};var w,o=f(p),i=o.source,r=o.id;return n.forceNew||n["force new connection"]||!1===n.multiplex||t[r]&&o.path in t[r].nsps?(l("ignoring socket cache for %s",i),w=h(i,n)):(t[r]||(l("new io instance for %s",i),t[r]=h(i,n)),w=t[r]),o.query&&!n.query&&(n.query=o.query),w.socket(o.path,n)}s.protocol=g.protocol,s.connect=u,s.Manager=a(2276),s.Socket=a(5157)},2276:(x,s,a)=>{var f=a(7410),g=a(5157),h=a(1264),l=a(1086),t=a(1865),u=a(1213),p=a(3039)("socket.io-client:manager"),n=a(4068),o=a(2150),i=Object.prototype.hasOwnProperty;function r(e,c){if(!(this instanceof r))return new r(e,c);e&&"object"==typeof e&&(c=e,e=void 0),(c=c||{}).path=c.path||"/socket.io",this.nsps={},this.subs=[],this.opts=c,this.reconnection(!1!==c.reconnection),this.reconnectionAttempts(c.reconnectionAttempts||1/0),this.reconnectionDelay(c.reconnectionDelay||1e3),this.reconnectionDelayMax(c.reconnectionDelayMax||5e3),this.randomizationFactor(c.randomizationFactor||.5),this.backoff=new o({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==c.timeout?2e4:c.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var d=c.parser||l;this.encoder=new d.Encoder,this.decoder=new d.Decoder,this.autoConnect=!1!==c.autoConnect,this.autoConnect&&this.open()}x.exports=r,r.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)i.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},r.prototype.updateSocketIds=function(){for(var e in this.nsps)i.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},r.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},h(r.prototype),r.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},r.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},r.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(e,c){if(p("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;p("opening %s",this.uri),this.engine=f(this.uri,this.opts);var d=this.engine,w=this;this.readyState="opening",this.skipReconnect=!1;var v=t(d,"open",function(){w.onopen(),e&&e()}),C=t(d,"error",function(m){if(p("connect_error"),w.cleanup(),w.readyState="closed",w.emitAll("connect_error",m),e){var F=new Error("Connection error");F.data=m,e(F)}else w.maybeReconnectOnOpen()});if(!1!==this._timeout){var O=this._timeout;p("connect attempt will timeout after %d",O),0===O&&v.destroy();var U=setTimeout(function(){p("connect attempt timed out after %d",O),v.destroy(),d.close(),d.emit("error","timeout"),w.emitAll("connect_timeout",O)},O);this.subs.push({destroy:function(){clearTimeout(U)}})}return this.subs.push(v),this.subs.push(C),this},r.prototype.onopen=function(){p("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(t(e,"data",u(this,"ondata"))),this.subs.push(t(e,"ping",u(this,"onping"))),this.subs.push(t(e,"pong",u(this,"onpong"))),this.subs.push(t(e,"error",u(this,"onerror"))),this.subs.push(t(e,"close",u(this,"onclose"))),this.subs.push(t(this.decoder,"decoded",u(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(e){this.decoder.add(e)},r.prototype.ondecoded=function(e){this.emit("packet",e)},r.prototype.onerror=function(e){p("error",e),this.emitAll("error",e)},r.prototype.socket=function(e,c){var d=this.nsps[e];if(!d){d=new g(this,e,c),this.nsps[e]=d;var w=this;d.on("connecting",v),d.on("connect",function(){d.id=w.generateId(e)}),this.autoConnect&&v()}function v(){~n(w.connecting,d)||w.connecting.push(d)}return d},r.prototype.destroy=function(e){var c=n(this.connecting,e);~c&&this.connecting.splice(c,1),!this.connecting.length&&this.close()},r.prototype.packet=function(e){p("writing packet %j",e);var c=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),c.encoding?c.packetBuffer.push(e):(c.encoding=!0,this.encoder.encode(e,function(d){for(var w=0;w<d.length;w++)c.engine.write(d[w],e.options);c.encoding=!1,c.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},r.prototype.cleanup=function(){p("cleanup");for(var e=this.subs.length,c=0;c<e;c++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){p("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(e){p("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)p("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var c=this.backoff.duration();p("will wait %dms before reconnect attempt",c),this.reconnecting=!0;var d=setTimeout(function(){e.skipReconnect||(p("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),!e.skipReconnect&&e.open(function(w){w?(p("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",w.data)):(p("reconnect success"),e.onreconnect())}))},c);this.subs.push({destroy:function(){clearTimeout(d)}})}},r.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},1865:x=>{x.exports=function s(a,f,g){return a.on(f,g),{destroy:function(){a.removeListener(f,g)}}}},5157:(x,s,a)=>{var f=a(1086),g=a(1264),h=a(1898),l=a(1865),t=a(1213),u=a(3039)("socket.io-client:socket"),p=a(3257),n=a(988);x.exports=r;var o={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},i=g.prototype.emit;function r(e,c,d){this.io=e,this.nsp=c,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},d&&d.query&&(this.query=d.query),this.io.autoConnect&&this.open()}g(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[l(e,"open",t(this,"onopen")),l(e,"packet",t(this,"onpacket")),l(e,"close",t(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.reconnecting||this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},r.prototype.send=function(){var e=h(arguments);return e.unshift("message"),this.emit.apply(this,e),this},r.prototype.emit=function(e){if(o.hasOwnProperty(e))return i.apply(this,arguments),this;var c=h(arguments),d={type:(void 0!==this.flags.binary?this.flags.binary:n(c))?f.BINARY_EVENT:f.EVENT,data:c,options:{}};return d.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof c[c.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=c.pop(),d.id=this.ids++),this.connected?this.packet(d):this.sendBuffer.push(d),this.flags={},this},r.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},r.prototype.onopen=function(){if(u("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?p.encode(this.query):this.query;u("sending connect packet with query %s",e),this.packet({type:f.CONNECT,query:e})}else this.packet({type:f.CONNECT})},r.prototype.onclose=function(e){u("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},r.prototype.onpacket=function(e){if(e.nsp===this.nsp||e.type===f.ERROR&&"/"===e.nsp)switch(e.type){case f.CONNECT:this.onconnect();break;case f.EVENT:case f.BINARY_EVENT:this.onevent(e);break;case f.ACK:case f.BINARY_ACK:this.onack(e);break;case f.DISCONNECT:this.ondisconnect();break;case f.ERROR:this.emit("error",e.data)}},r.prototype.onevent=function(e){var c=e.data||[];u("emitting event %j",c),null!=e.id&&(u("attaching ack callback to event"),c.push(this.ack(e.id))),this.connected?i.apply(this,c):this.receiveBuffer.push(c)},r.prototype.ack=function(e){var c=this,d=!1;return function(){if(!d){d=!0;var w=h(arguments);u("sending ack %j",w),c.packet({type:n(w)?f.BINARY_ACK:f.ACK,id:e,data:w})}}},r.prototype.onack=function(e){var c=this.acks[e.id];"function"==typeof c?(u("calling ack %s with %j",e.id,e.data),c.apply(this,e.data),delete this.acks[e.id]):u("bad ack %s",e.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emit("connect")},r.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)i.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:f.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(e){return this.flags.compress=e,this},r.prototype.binary=function(e){return this.flags.binary=e,this}},1958:(x,s,a)=>{var f=a(1757),g=a(3039)("socket.io-client:url");x.exports=function h(l,t){var u=l;t=t||"undefined"!=typeof location&&location,null==l&&(l=t.protocol+"//"+t.host),"string"==typeof l&&("/"===l.charAt(0)&&(l="/"===l.charAt(1)?t.protocol+l:t.host+l),/^(https?|wss?):\/\//.test(l)||(g("protocol-less url %s",l),l=void 0!==t?t.protocol+"//"+l:"https://"+l),g("parse %s",l),u=f(l)),u.port||(/^(http|ws)$/.test(u.protocol)?u.port="80":/^(http|ws)s$/.test(u.protocol)&&(u.port="443")),u.path=u.path||"/";var n=-1!==u.host.indexOf(":")?"["+u.host+"]":u.host;return u.id=u.protocol+"://"+n+":"+u.port,u.href=u.protocol+"://"+n+(t&&t.port===u.port?"":":"+u.port),u}},3039:(x,s,a)=>{function t(){var p;try{p=s.storage.debug}catch(n){}return!p&&"undefined"!=typeof process&&"env"in process&&(p=process.env.DEBUG),p}(s=x.exports=a(8596)).log=function h(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},s.formatArgs=function g(p){var n=this.useColors;if(p[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+p[0]+(n?"%c ":" ")+"+"+s.humanize(this.diff),n){var o="color: "+this.color;p.splice(1,0,o,"color: inherit");var i=0,r=0;p[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(r=i))}),p.splice(r,0,o)}},s.save=function l(p){try{null==p?s.storage.removeItem("debug"):s.storage.debug=p}catch(n){}},s.load=t,s.useColors=function f(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},s.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function u(){try{return window.localStorage}catch(p){}}(),s.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],s.formatters.j=function(p){try{return JSON.stringify(p)}catch(n){return"[UnexpectedJSONParseError]: "+n.message}},s.enable(t())},8596:(x,s,a)=>{function g(n){var o;function i(){if(i.enabled){var r=i,e=+new Date,c=e-(o||e);r.diff=c,r.prev=o,r.curr=e,o=e;for(var d=new Array(arguments.length),w=0;w<d.length;w++)d[w]=arguments[w];d[0]=s.coerce(d[0]),"string"!=typeof d[0]&&d.unshift("%O");var v=0;d[0]=d[0].replace(/%([a-zA-Z%])/g,function(O,U){if("%%"===O)return O;v++;var m=s.formatters[U];return"function"==typeof m&&(O=m.call(r,d[v]),d.splice(v,1),v--),O}),s.formatArgs.call(r,d);var C=i.log||s.log||console.log.bind(console);C.apply(r,d)}}return i.namespace=n,i.enabled=s.enabled(n),i.useColors=s.useColors(),i.color=function f(n){var i,o=0;for(i in n)o=(o<<5)-o+n.charCodeAt(i),o|=0;return s.colors[Math.abs(o)%s.colors.length]}(n),i.destroy=h,"function"==typeof s.init&&s.init(i),s.instances.push(i),i}function h(){var n=s.instances.indexOf(this);return-1!==n&&(s.instances.splice(n,1),!0)}(s=x.exports=g.debug=g.default=g).coerce=function p(n){return n instanceof Error?n.stack||n.message:n},s.disable=function t(){s.enable("")},s.enable=function l(n){s.save(n),s.names=[],s.skips=[];var o,i=("string"==typeof n?n:"").split(/[\s,]+/),r=i.length;for(o=0;o<r;o++)!i[o]||("-"===(n=i[o].replace(/\*/g,".*?"))[0]?s.skips.push(new RegExp("^"+n.substr(1)+"$")):s.names.push(new RegExp("^"+n+"$")));for(o=0;o<s.instances.length;o++){var e=s.instances[o];e.enabled=s.enabled(e.namespace)}},s.enabled=function u(n){if("*"===n[n.length-1])return!0;var o,i;for(o=0,i=s.skips.length;o<i;o++)if(s.skips[o].test(n))return!1;for(o=0,i=s.names.length;o<i;o++)if(s.names[o].test(n))return!0;return!1},s.humanize=a(8149),s.instances=[],s.names=[],s.skips=[],s.formatters={}},4456:x=>{var s={}.toString;x.exports=Array.isArray||function(a){return"[object Array]"==s.call(a)}},8149:x=>{var s=1e3,a=60*s,f=60*a,g=24*f;function p(n,o,i){if(!(n<o))return n<1.5*o?Math.floor(n/o)+" "+i:Math.ceil(n/o)+" "+i+"s"}x.exports=function(n,o){o=o||{};var i=typeof n;if("string"===i&&n.length>0)return function l(n){if(!((n=String(n)).length>100)){var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(n);if(o){var i=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"days":case"day":case"d":return i*g;case"hours":case"hour":case"hrs":case"hr":case"h":return i*f;case"minutes":case"minute":case"mins":case"min":case"m":return i*a;case"seconds":case"second":case"secs":case"sec":case"s":return i*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(n);if("number"===i&&!1===isNaN(n))return o.long?function u(n){return p(n,g,"day")||p(n,f,"hour")||p(n,a,"minute")||p(n,s,"second")||n+" ms"}(n):function t(n){return n>=g?Math.round(n/g)+"d":n>=f?Math.round(n/f)+"h":n>=a?Math.round(n/a)+"m":n>=s?Math.round(n/s)+"s":n+"ms"}(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))}},3386:(x,s,a)=>{var f=a(4456),g=a(8138),h=Object.prototype.toString,l="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===h.call(Blob),t="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===h.call(File);function u(n,o){if(!n)return n;if(g(n)){var i={_placeholder:!0,num:o.length};return o.push(n),i}if(f(n)){for(var r=new Array(n.length),e=0;e<n.length;e++)r[e]=u(n[e],o);return r}if("object"==typeof n&&!(n instanceof Date)){for(var c in r={},n)r[c]=u(n[c],o);return r}return n}function p(n,o){if(!n)return n;if(n&&n._placeholder)return o[n.num];if(f(n))for(var i=0;i<n.length;i++)n[i]=p(n[i],o);else if("object"==typeof n)for(var r in n)n[r]=p(n[r],o);return n}s.deconstructPacket=function(n){var o=[],r=n;return r.data=u(n.data,o),r.attachments=o.length,{packet:r,buffers:o}},s.reconstructPacket=function(n,o){return n.data=p(n.data,o),n.attachments=void 0,n},s.removeBlobs=function(n,o){var r=0,e=n;(function i(c,d,w){if(!c)return c;if(l&&c instanceof Blob||t&&c instanceof File){r++;var v=new FileReader;v.onload=function(){w?w[d]=this.result:e=this.result,--r||o(e)},v.readAsArrayBuffer(c)}else if(f(c))for(var C=0;C<c.length;C++)i(c[C],C,c);else if("object"==typeof c&&!g(c))for(var O in c)i(c[O],O,c)})(e),r||o(e)}},1086:(x,s,a)=>{var f=a(3039)("socket.io-parser"),g=a(1264),h=a(3386),l=a(4456),t=a(8138);function u(){}s.protocol=4,s.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],s.CONNECT=0,s.DISCONNECT=1,s.EVENT=2,s.ACK=3,s.ERROR=4,s.BINARY_EVENT=5,s.BINARY_ACK=6,s.Encoder=u,s.Decoder=r;var p=s.ERROR+'"encode error"';function n(v){var C=""+v.type;if((s.BINARY_EVENT===v.type||s.BINARY_ACK===v.type)&&(C+=v.attachments+"-"),v.nsp&&"/"!==v.nsp&&(C+=v.nsp+","),null!=v.id&&(C+=v.id),null!=v.data){var O=function o(v){try{return JSON.stringify(v)}catch(C){return!1}}(v.data);if(!1===O)return p;C+=O}return f("encoded %j as %s",v,C),C}function r(){this.reconstructor=null}function d(v){this.reconPack=v,this.buffers=[]}function w(v){return{type:s.ERROR,data:"parser error: "+v}}u.prototype.encode=function(v,C){f("encoding packet %j",v),s.BINARY_EVENT===v.type||s.BINARY_ACK===v.type?function i(v,C){h.removeBlobs(v,function O(U){var m=h.deconstructPacket(U),F=n(m.packet),A=m.buffers;A.unshift(F),C(A)})}(v,C):C([n(v)])},g(r.prototype),r.prototype.add=function(v){var C;if("string"==typeof v)C=function e(v){var C=0,O={type:Number(v.charAt(0))};if(null==s.types[O.type])return w("unknown packet type "+O.type);if(s.BINARY_EVENT===O.type||s.BINARY_ACK===O.type){for(var U=C+1;"-"!==v.charAt(++C)&&C!=v.length;);var m=v.substring(U,C);if(m!=Number(m)||"-"!==v.charAt(C))throw new Error("Illegal attachments");O.attachments=Number(m)}if("/"===v.charAt(C+1)){for(U=C+1;++C&&(","!==(F=v.charAt(C))&&C!==v.length););O.nsp=v.substring(U,C)}else O.nsp="/";var A=v.charAt(C+1);if(""!==A&&Number(A)==A){for(U=C+1;++C;){var F;if(null==(F=v.charAt(C))||Number(F)!=F){--C;break}if(C===v.length)break}O.id=Number(v.substring(U,C+1))}if(v.charAt(++C)){var B=function c(v){try{return JSON.parse(v)}catch(C){return!1}}(v.substr(C));if(!1===B||O.type!==s.ERROR&&!l(B))return w("invalid payload");O.data=B}return f("decoded %s as %j",v,O),O}(v),s.BINARY_EVENT===C.type||s.BINARY_ACK===C.type?(this.reconstructor=new d(C),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",C)):this.emit("decoded",C);else{if(!t(v)&&!v.base64)throw new Error("Unknown type: "+v);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(C=this.reconstructor.takeBinaryData(v))&&(this.reconstructor=null,this.emit("decoded",C))}},r.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},d.prototype.takeBinaryData=function(v){if(this.buffers.push(v),this.buffers.length===this.reconPack.attachments){var C=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),C}return null},d.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},8138:x=>{x.exports=function g(h){return s&&Buffer.isBuffer(h)||a&&(h instanceof ArrayBuffer||function(h){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(h):h.buffer instanceof ArrayBuffer}(h))};var s="function"==typeof Buffer&&"function"==typeof Buffer.isBuffer,a="function"==typeof ArrayBuffer},1898:x=>{x.exports=function s(a,f){for(var g=[],h=(f=f||0)||0;h<a.length;h++)g[h-f]=a[h];return g}},5379:x=>{"use strict";var l,s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),f={},g=0,h=0;function t(n){var o="";do{o=s[n%64]+o,n=Math.floor(n/64)}while(n>0);return o}function p(){var n=t(+new Date);return n!==l?(g=0,l=n):n+"."+t(g++)}for(;h<64;h++)f[s[h]]=h;p.encode=t,p.decode=function u(n){var o=0;for(h=0;h<n.length;h++)o=64*o+f[n.charAt(h)];return o},x.exports=p},7020:()=>{}}]);